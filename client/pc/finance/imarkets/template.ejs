<!DOCTYPE html>
<html xmlns:wb="http://open.weibo.com/wb">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta content="always" name="referrer">
    <title></title>
    {{{ htmlWebpackPlugin.options.errorupload }}}
    <script>
        var allData = <%- JSON.stringify(allData) %>;
        var adData = <%- JSON.stringify(adData) %>;
        var staticData = <%- JSON.stringify(staticData) %>;

        for (var key in adData) {
            try{
                if(key==='adHead' || key == 'adBody'){
                    continue;
                }
                allData[key] = new Function('return ' + decodeURIComponent(adData[key]))();
            }catch(e){
                console.error(key, e);

                allData[key] = {};
            }

        }

        for (var key in staticData) {
            try{
                if (typeof staticData[key] === 'string'){
                    allData[key] = decodeURIComponent(staticData[key]);
                } else {
                    allData[key] = staticData[key]
                }
            }catch(e){
                console.error(key, e);

                allData[key] = [];
            }

        }
    </script>
    {{#each htmlWebpackPlugin.files.css}}
    <link href="{{path}}" rel="stylesheet">
    {{/each}}
    {{{ htmlWebpackPlugin.options.polyfill }}}
    <%- decodeURIComponent(adData.adHead) %>
</head>
<body>
    <div id="root"></div>

    {{#each htmlWebpackPlugin.files.js}}
        <script src="{{path}}" type="text/javascript"></script>
    {{/each}}
    <%- decodeURIComponent(adData.adBody) %>
</body>
</html>
